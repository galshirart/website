
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;400;500&display=swap" rel="stylesheet">

<style>
body {
  margin:0;
  font-family: 'Roboto Mono', monospace;
  display: flex;
  justify-content: center;
  align-items: center;
}
* {
  transition: all 500ms;
}
button {
  border: none;
  padding: 0;
  cursor: pointer;
  outline: none;
  height:60px;
  width:200px;
  background:#162CB9;
  font-size:14px;
  font-weight: 400;
  font-family: 'Roboto Mono', monospace;
  color:white;
  letter-spacing: 2px;
  border-radius: 4px;
  display: block;
  position: relative;
  overflow: hidden;
  transition: filter 100ms;
}
button:before, button:after {
  width:10px;
  height:100%;
  top:0;
  background:#162CB9;
  content: " ";
  display: block;
  position: absolute;
  z-index: 2;
}
button:after {
  right:0;
}
button:hover {
  filter:brightness(1.1);
}
button:active {
  filter:brightness(0.9);
}
button.working {
  animation-name: button;
  animation-duration: 5s;
  animation-timing-function: ease-in-out;
  cursor: default;
}
@keyframes button {
  0% { width:200px; }
  10% { width:30px }
  20% { width:100px }
  30% { width: 90px }
  40% { width:100px }
  50% { width: 90px }
  60% { width:100px }
  70% { width: 90px }
  80% { width:100px }
  90% { width: 30px }
  100%{ width:200px }
}
button .cta {
  white-space: nowrap;
  transition: all 300ms;
}
button.working .cta {
  opacity:0;
  white-space: nowrap;
}
button .code-container {
  background:black;
  opacity:0;
  position: absolute;
  height:400px;
  padding:10px;
  padding-top:24px;
  box-sizing: border-box;
  left:calc(50% - 40px);
  top:0;
  width:80px;
}
button.working .code-container {
  opacity:0;
  animation-name: slide;
  animation-duration: 5s;
  animation-delay: 0,5s;
  animation-timing-function: linear;
  animation-fill-mode: both;
  text-align: left;
}
@keyframes slide {
  0% { transform: translateY(0px); }
  100% { transform: translateY(-70px);}
}
button .code-container span {
  width:0px;
  transition: transform 1s;
  height:4px;
  margin:2px;
  background:#162CB9;
  background:white;
  border-radius: 10px;
  display: inline-block;
  transform: scaleX(0);
  transform-origin: left;
  animation-name: word;
  animation-fill-mode: both;
  animation-duration: 200ms;
}
@keyframes word {
  0% { transform: scaleX(0) }
  100% { transform: scaleX(1) }
}


</style>
	

<button>
  <span class="cta">DO SOMETHING</span>
  <div class="code-container"></div>
</button>


<script>




$('button').click(function() {
  $('button').addClass('working')



  setTimeout(function() {
    $('.code-container').css('opacity',1)
    code = setInterval(function() {
      word = $('<span></span>')
      word.css('opacity',random(20,100)+'%')
      word.css('width',random(4,20)+'px')
      $('.code-container').append(word)
    },100);
  },500)

  setTimeout(function() {
    $('.code-container').css('opacity',0)
  },4000)

  setTimeout(function() {
    $('button').removeClass('working')
    clearInterval(code)
    $('.code-container').css('opacity',0)
    $('.code-container').html('')
  },5000)

})


function random(min,max) {
  return Math.floor(Math.random() * (max + 1 - min) + min);
}

</script>
